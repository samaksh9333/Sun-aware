(function(){"use strict";var A={2732:function(A,e,t){var n=t(3751),r=t(641),a="data:image/png;base64,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";const o={id:"app"},i={class:"app-header"},s={class:"nav-links"};function c(A,e,t,n,c,l){const d=(0,r.g2)("router-link"),u=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("header",i,[e[6]||(e[6]=(0,r.Lk)("div",{class:"logo-container"},[(0,r.Lk)("img",{src:a,alt:"SunGuard Logo",class:"app-logo"})],-1)),(0,r.Lk)("nav",s,[(0,r.bF)(d,{to:"/"},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)("Home")]))),_:1}),(0,r.bF)(d,{to:"/uv-index"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)("UV Index")]))),_:1}),(0,r.bF)(d,{to:"/effects"},{default:(0,r.k6)((()=>e[2]||(e[2]=[(0,r.eW)("Effects of Radiation")]))),_:1}),(0,r.bF)(d,{to:"/reminders"},{default:(0,r.k6)((()=>e[3]||(e[3]=[(0,r.eW)("Reminders")]))),_:1}),(0,r.bF)(d,{to:"/gear"},{default:(0,r.k6)((()=>e[4]||(e[4]=[(0,r.eW)("Sun Protection Gear")]))),_:1}),(0,r.bF)(d,{to:"/community"},{default:(0,r.k6)((()=>e[5]||(e[5]=[(0,r.eW)("Join Our Community")]))),_:1})])]),(0,r.Lk)("main",null,[(0,r.bF)(u)])])}var l={name:"App"},d=t(6262);const u=(0,d.A)(l,[["render",c],["__scopeId","data-v-5834160b"]]);var p=u,v=t(5220);const f={class:"home-view"},h={class:"cta-buttons"};function y(A,e,t,n,a,o){const i=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",f,[e[2]||(e[2]=(0,r.Lk)("h2",null,"Welcome to SunGuard",-1)),e[3]||(e[3]=(0,r.Lk)("p",null," Manage your sun exposure with real-time UV index data, expert advice, and tips for staying safe under the sun. Explore our features to learn about the effects of radiation, get reminders for sunscreen application, and discover recommended sun protection gear. ",-1)),(0,r.Lk)("div",h,[(0,r.bF)(i,{to:"/uv-index",class:"cta-button"},{default:(0,r.k6)((()=>e[0]||(e[0]=[(0,r.eW)("Check UV Index")]))),_:1}),(0,r.bF)(i,{to:"/community",class:"cta-button"},{default:(0,r.k6)((()=>e[1]||(e[1]=[(0,r.eW)("Join Our Community")]))),_:1})])])}var x={name:"HomeView"};const m=(0,d.A)(x,[["render",y],["__scopeId","data-v-4aba40c6"]]);var g=m,b=t(33);const L={class:"main-frame"},V={class:"search-controls"},k={key:0},U={key:1,class:"error"},X={key:2,class:"uv-info"},j={class:"warning-message"},W={class:"uv-scale"};function K(A,e,t,a,o,i){return(0,r.uX)(),(0,r.CE)("div",L,[e[5]||(e[5]=(0,r.Lk)("h1",null,"Live UV Index",-1)),(0,r.Lk)("div",V,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=A=>o.searchQuery=A),placeholder:"Enter city name or postcode, country"},null,512),[[n.Jo,o.searchQuery]]),(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...A)=>i.fetchUVIndexBySearch&&i.fetchUVIndexBySearch(...A))},"Search"),(0,r.Lk)("button",{onClick:e[2]||(e[2]=(...A)=>i.fetchUVIndexCurrent&&i.fetchUVIndexCurrent(...A))},"Use Current Location")]),o.loading?((0,r.uX)(),(0,r.CE)("div",k,"Loading...")):o.error?((0,r.uX)(),(0,r.CE)("div",U,(0,b.v_)(o.error),1)):null!==o.uvIndex?((0,r.uX)(),(0,r.CE)("div",X,[(0,r.Lk)("p",null,[e[3]||(e[3]=(0,r.eW)(" UV Index for ")),(0,r.Lk)("strong",null,(0,b.v_)(o.displayLocation),1),e[4]||(e[4]=(0,r.eW)(": ")),(0,r.Lk)("span",{style:(0,b.Tr)({color:i.uvColor})},(0,b.v_)(o.uvIndex),5)]),(0,r.Lk)("p",j,(0,b.v_)(i.uvWarning),1),(0,r.Lk)("div",W,[(0,r.Lk)("div",{class:"uv-bar",style:(0,b.Tr)({backgroundColor:i.uvColor,width:i.uvPercentage+"%"})},null,4)])])):(0,r.Q3)("",!0),e[6]||(e[6]=(0,r.Fv)('<div class="map-legend-container" data-v-4faa623c><div class="legend" data-v-4faa623c><div class="legend-item" data-v-4faa623c><span class="legend-color" style="background-color:green;" data-v-4faa623c></span> Low (0-2) </div><div class="legend-item" data-v-4faa623c><span class="legend-color" style="background-color:yellow;" data-v-4faa623c></span> Moderate (3-5) </div><div class="legend-item" data-v-4faa623c><span class="legend-color" style="background-color:orange;" data-v-4faa623c></span> High (6-7) </div><div class="legend-item" data-v-4faa623c><span class="legend-color" style="background-color:red;" data-v-4faa623c></span> Very High (8-10) </div><div class="legend-item" data-v-4faa623c><span class="legend-color" style="background-color:purple;" data-v-4faa623c></span> Extreme (11+) </div></div><div id="mapid" data-v-4faa623c></div></div>',1))])}t(8111),t(1701);var S=t(3481),T=t.n(S),O={name:"LiveUVIndex",data(){return{uvIndex:null,loading:!1,error:null,lat:null,lon:null,searchQuery:"",displayLocation:"",apiKey:"07e31bea64b6d5e3a0d79991e19da066",map:null,marker:null,defaultCountry:"AU"}},computed:{uvColor(){return this.uvIndex<3?"green":this.uvIndex<6?"yellow":this.uvIndex<8?"orange":this.uvIndex<11?"red":"purple"},uvPercentage(){return Math.min(this.uvIndex/15*100,100)},uvWarning(){return this.uvIndex<3?"Low risk: Minimal sun protection needed.":this.uvIndex<6?"Moderate risk: Wear sunglasses and consider SPF 30+ sunscreen if outdoors for long.":this.uvIndex<8?"High risk: Use broad-spectrum sunscreen SPF 30+ and wear a hat and protective clothing.":this.uvIndex<11?"Very high risk: Use sunscreen SPF 50+, reapply frequently, and wear protective clothing and sunglasses.":"Extreme risk: Avoid direct sun exposure. Use high SPF sunscreen (50+), protective clothing, and seek shade."}},methods:{async fetchUVIndexByCoords(A,e,t=""){this.loading=!0,this.error=null,this.uvIndex=null,this.lat=A,this.lon=e,this.displayLocation=t||`Lat: ${A.toFixed(2)}, Lon: ${e.toFixed(2)}`;const n=`https://api.openweathermap.org/data/3.0/onecall?lat=${this.lat}&lon=${this.lon}&exclude=minutely,hourly,daily,alerts&appid=${this.apiKey}`;console.log("Fetching UV data from URL:",n);try{const A=await fetch(n);if(!A.ok){const e=await A.text();return console.error("API error response:",e),void(this.error="Error fetching UV data: "+e)}const e=await A.json();console.log("API response:",e),e.current&&void 0!==e.current.uvi?this.uvIndex=e.current.uvi:this.error="Unexpected API response format."}catch(r){console.error("Error fetching UV data:",r),this.error="Error fetching UV data."}finally{this.loading=!1}},async fetchUVIndexCurrent(){navigator.geolocation?(this.loading=!0,this.error=null,navigator.geolocation.getCurrentPosition((async({coords:A})=>{console.log("Current location:",A),await this.fetchUVIndexByCoords(A.latitude,A.longitude,"Current Location"),this.updateMarker(A.latitude,A.longitude),this.map&&this.map.setView([A.latitude,A.longitude],10)}),(A=>{console.error("Geolocation error:",A),this.error="Unable to retrieve location.",this.loading=!1}))):this.error="Geolocation is not supported by your browser."},async fetchUVIndexBySearch(){if(!this.searchQuery)return void(this.error="Please enter a search query.");this.loading=!0,this.error=null;let A=this.searchQuery.trim(),e=!1;if((A.includes(",")||/^\d+$/.test(A))&&(e=!0),e){let e=A.split(","),n=e[0].trim(),r=e[1]?e[1].trim():this.defaultCountry;const a=`https://api.openweathermap.org/geo/1.0/zip?zip=${n},${r}&appid=${this.apiKey}`;console.log("Fetching geocoding (zip) data from URL:",a);try{const A=await fetch(a);if(!A.ok){const e=await A.text();return console.error("Zip API error response:",e),this.error="Error fetching location data: "+e,void(this.loading=!1)}const e=await A.json();console.log("Zip API response:",e),e&&e.lat&&e.lon?(this.displayLocation=`${e.name}, ${e.country}`,await this.fetchUVIndexByCoords(e.lat,e.lon,this.displayLocation),this.updateMarker(e.lat,e.lon),this.map&&this.map.setView([e.lat,e.lon],10)):this.error="Location not found."}catch(t){console.error("Error fetching zip data:",t),this.error="Error fetching location data."}finally{this.loading=!1}}else{const e=`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(A)}&limit=1&appid=${this.apiKey}`;console.log("Fetching geocoding data from URL:",e);try{const A=await fetch(e);if(!A.ok){const e=await A.text();return console.error("Geocoding API error response:",e),this.error="Error fetching location data: "+e,void(this.loading=!1)}const t=await A.json();if(console.log("Geocoding API response:",t),t&&t.length>0){const{lat:A,lon:e,name:n,country:r}=t[0];this.displayLocation=`${n}, ${r}`,await this.fetchUVIndexByCoords(A,e,this.displayLocation),this.updateMarker(A,e),this.map&&this.map.setView([A,e],10)}else this.error="Location not found."}catch(t){console.error("Error fetching geocoding data:",t),this.error="Error fetching location data."}finally{this.loading=!1}}},initMap(){this.map=T().map("mapid").setView([20,0],2),T().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data Â© <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:18}).addTo(this.map),this.map.on("click",(A=>{const{lat:e,lng:t}=A.latlng;console.log("Map clicked at:",e,t),this.fetchUVIndexByCoords(e,t,`Lat: ${e.toFixed(2)}, Lon: ${t.toFixed(2)}`),this.updateMarker(e,t),this.map.setView([e,t],10)}))},updateMarker(A,e){this.marker?this.marker.setLatLng([A,e]):this.map&&(this.marker=T().marker([A,e]).addTo(this.map))}},mounted(){this.initMap()}};const w=(0,d.A)(O,[["render",K],["__scopeId","data-v-4faa623c"]]);var q=w;const P=[{path:"/",name:"home",component:g},{path:"/uv-index",name:"uv-index",component:q}],N=(0,v.aE)({history:(0,v.LA)("/Sun-aware/"),routes:P});var z=N;(0,n.Ef)(p).use(z).mount("#app")}},e={};function t(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return A[n].call(a.exports,a,a.exports,t),a.exports}t.m=A,function(){var A=[];t.O=function(e,n,r,a){if(!n){var o=1/0;for(l=0;l<A.length;l++){n=A[l][0],r=A[l][1],a=A[l][2];for(var i=!0,s=0;s<n.length;s++)(!1&a||o>=a)&&Object.keys(t.O).every((function(A){return t.O[A](n[s])}))?n.splice(s--,1):(i=!1,a<o&&(o=a));if(i){A.splice(l--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var l=A.length;l>0&&A[l-1][2]>a;l--)A[l]=A[l-1];A[l]=[n,r,a]}}(),function(){t.n=function(A){var e=A&&A.__esModule?function(){return A["default"]}:function(){return A};return t.d(e,{a:e}),e}}(),function(){t.d=function(A,e){for(var n in e)t.o(e,n)&&!t.o(A,n)&&Object.defineProperty(A,n,{enumerable:!0,get:e[n]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(A){if("object"===typeof window)return window}}()}(),function(){t.o=function(A,e){return Object.prototype.hasOwnProperty.call(A,e)}}(),function(){var A={524:0};t.O.j=function(e){return 0===A[e]};var e=function(e,n){var r,a,o=n[0],i=n[1],s=n[2],c=0;if(o.some((function(e){return 0!==A[e]}))){for(r in i)t.o(i,r)&&(t.m[r]=i[r]);if(s)var l=s(t)}for(e&&e(n);c<o.length;c++)a=o[c],t.o(A,a)&&A[a]&&A[a][0](),A[a]=0;return t.O(l)},n=self["webpackChunksun_aware"]=self["webpackChunksun_aware"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=t.O(void 0,[504],(function(){return t(2732)}));n=t.O(n)})();
//# sourceMappingURL=app.0e25c713.js.map