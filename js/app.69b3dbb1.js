(function(){"use strict";var e={4429:function(e,A,t){var a=t(3751),n=t(641),r="data:image/png;base64,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";const o={id:"app"},i={class:"navbar navbar-expand-lg navbar-light bg-light"},s={class:"container"},l={class:"collapse navbar-collapse",id:"navbarNav"},d={class:"navbar-nav ms-auto"},c={class:"nav-item"};function u(e,A,t,a,u,v){const p=(0,n.g2)("router-link"),h=(0,n.g2)("router-view");return(0,n.uX)(),(0,n.CE)("div",o,[(0,n.Lk)("nav",i,[(0,n.Lk)("div",s,[A[1]||(A[1]=(0,n.Lk)("a",{class:"navbar-brand",href:"#"},[(0,n.Lk)("img",{src:r,alt:"SunAware Logo",height:"40"}),(0,n.eW)(" SunAware ")],-1)),A[2]||(A[2]=(0,n.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,n.Lk)("div",l,[(0,n.Lk)("ul",d,[(0,n.Lk)("li",c,[(0,n.bF)(p,{class:"nav-link",to:"/personalise-view"},{default:(0,n.k6)((()=>A[0]||(A[0]=[(0,n.eW)(" Personalised Recommendation ")]))),_:1})])])])])]),(0,n.Lk)("main",null,[(0,n.bF)(h)])])}var v={name:"App"},p=t(6262);const h=(0,p.A)(v,[["render",u],["__scopeId","data-v-c0b01a32"]]);var f=h,m=t(5220),y=t(33),b=t.p+"img/uv-index-scale.a42fb1c6.png";const k={class:"container my-4"},g={class:"row mb-3"},x={class:"col-md-8"},L={class:"input-group"},V={key:0,class:"text-center my-3"},U={key:1,class:"alert alert-danger"},T={key:2,class:"card mb-4"},w={class:"card-body"},S={class:"card-title"},X={class:"card-text"},j={class:"warning-message text-warning fw-bold"},O={class:"progress",style:{height:"20px"}},K=["aria-valuenow"];function W(e,A,t,r,o,i){return(0,n.uX)(),(0,n.CE)("div",k,[A[6]||(A[6]=(0,n.Lk)("h1",{class:"mb-4"}," Live UV Index (A relative value to measure Ultra Violet Radiation which causes skin diseases.) ",-1)),(0,n.Lk)("div",g,[(0,n.Lk)("div",x,[(0,n.Lk)("div",L,[(0,n.bo)((0,n.Lk)("input",{type:"text","onUpdate:modelValue":A[0]||(A[0]=e=>o.searchQuery=e),class:"form-control",placeholder:"Enter city name or postcode, country"},null,512),[[a.Jo,o.searchQuery]]),(0,n.Lk)("button",{class:"btn btn-primary",onClick:A[1]||(A[1]=(...e)=>i.fetchUVIndexBySearch&&i.fetchUVIndexBySearch(...e))}," Search "),(0,n.Lk)("button",{class:"btn btn-secondary",onClick:A[2]||(A[2]=(...e)=>i.fetchUVIndexCurrent&&i.fetchUVIndexCurrent(...e))}," Use Current Location ")])])]),o.loading?((0,n.uX)(),(0,n.CE)("div",V,A[3]||(A[3]=[(0,n.Lk)("div",{class:"spinner-border text-primary",role:"status"},[(0,n.Lk)("span",{class:"visually-hidden"},"Loading...")],-1)]))):o.error?((0,n.uX)(),(0,n.CE)("div",U,(0,y.v_)(o.error),1)):null!==o.uvIndex?((0,n.uX)(),(0,n.CE)("div",T,[(0,n.Lk)("div",w,[(0,n.Lk)("h5",S,[A[4]||(A[4]=(0,n.eW)(" UV Index for ")),(0,n.Lk)("strong",null,(0,y.v_)(o.displayLocation),1)]),(0,n.Lk)("p",X,[(0,n.Lk)("span",{style:(0,y.Tr)({color:i.uvColor,fontWeight:"bold",fontSize:"1.5rem"})},[(0,n.eW)((0,y.v_)(o.uvIndex)+" ",1),A[5]||(A[5]=(0,n.Lk)("small",{class:"text-muted"},"(Sun Risk)",-1))],4)]),(0,n.Lk)("p",j,(0,y.v_)(i.uvWarning),1),(0,n.Lk)("div",O,[(0,n.Lk)("div",{class:"progress-bar",style:(0,y.Tr)({width:i.uvPercentage+"%",backgroundColor:i.uvColor}),role:"progressbar","aria-valuenow":o.uvIndex,"aria-valuemin":"0","aria-valuemax":"15"},null,12,K)])])])):(0,n.Q3)("",!0),A[7]||(A[7]=(0,n.Fv)('<div class="row" data-v-7195c6f0><div class="col-md-6 mb-3" data-v-7195c6f0><div class="card h-100" data-v-7195c6f0><div class="card-body p-0 d-flex align-items-center justify-content-center" data-v-7195c6f0><img src="'+b+'" alt="UV Index Scale" class="img-fluid" style="width:100%;height:100%;object-fit:contain;" data-v-7195c6f0></div></div></div><div class="col-md-6" data-v-7195c6f0><div id="mapid" class="border" style="height:400px;" data-v-7195c6f0></div></div></div>',1))])}t(8111),t(1701);var P=t(3481),R=t.n(P),q=t(8508);q.t1.register(q.ZT,q.No,q.FN,q.kc,q.PP,q.hE,q.m_,q.s$);var N={name:"UVIndex",data(){return{searchQuery:"",uvIndex:null,loading:!1,error:null,displayLocation:"",map:null,marker:null,apiKey:"07e31bea64b6d5e3a0d79991e19da066",defaultCountry:"AU"}},computed:{uvColor(){return"black"},uvPercentage(){return Math.min(this.uvIndex/15*100,100)},uvWarning(){return this.uvIndex<3?"Low risk: Minimal sun protection needed.":this.uvIndex<6?"Moderate risk: Wear sunglasses and consider SPF 30+ sunscreen if outdoors for long.":this.uvIndex<8?"High risk: Use broad-spectrum sunscreen SPF 30+ and wear a hat and protective clothing.":this.uvIndex<11?"Very high risk: Use sunscreen SPF 50+, reapply frequently, and wear protective clothing and sunglasses.":"Extreme risk: Avoid direct sun exposure. Use high SPF sunscreen (50+), protective clothing, and seek shade."}},methods:{async fetchUVIndexByCoords(e,A,t=""){this.loading=!0,this.error=null,this.uvIndex=null,this.displayLocation=t||`Lat: ${e.toFixed(2)}, Lon: ${A.toFixed(2)}`;const a=`https://api.openweathermap.org/data/3.0/onecall?lat=${e}&lon=${A}&exclude=minutely,hourly,daily,alerts&appid=${this.apiKey}`;console.log("Fetching UV data from URL:",a);try{const e=await fetch(a);if(!e.ok){const A=await e.text();return console.error("API error response:",A),void(this.error="Error fetching UV data: "+A)}const A=await e.json();console.log("API response:",A),A.current&&void 0!==A.current.uvi?this.uvIndex=A.current.uvi:this.error="Unexpected API response format."}catch(n){console.error("Error fetching UV data:",n),this.error="Error fetching UV data: "+n.message}finally{this.loading=!1}},async fetchUVIndexBySearch(){this.loading=!0,this.error=null;try{console.log("Searching for:",this.searchQuery);let e=this.searchQuery.trim(),A=e.includes(",")||/^\d+$/.test(e),t="";if(A){let A=e.split(","),a=A[0].trim(),n=A[1]?A[1].trim():this.defaultCountry;t=`https://api.openweathermap.org/geo/1.0/zip?zip=${encodeURIComponent(a)},${n}&appid=${this.apiKey}`}else t=`https://api.openweathermap.org/geo/1.0/direct?q=${encodeURIComponent(e)}&limit=1&appid=${this.apiKey}`;const a=await fetch(t);if(!a.ok)throw new Error(`Geocoding HTTP error: ${a.status}`);const n=await a.json();if(!n||Array.isArray(n)&&0===n.length)throw new Error("Location not found.");let r,o,i,s;Array.isArray(n)?({lat:r,lon:o,name:i,country:s}=n[0]):(r=n.lat,o=n.lon,i=n.name,s=n.country),this.displayLocation=`${i}, ${s}`,await this.fetchUVIndexByCoords(r,o,this.displayLocation),this.map&&(this.map.setView([r,o],10),this.updateMarker(r,o))}catch(e){console.error("Error fetching UV index data:",e),this.error="Error fetching UV index data: "+e.message}finally{this.loading=!1}},async fetchUVIndexCurrent(){navigator.geolocation?(this.loading=!0,this.error=null,navigator.geolocation.getCurrentPosition((async({coords:e})=>{try{console.log("Current location:",e),await this.fetchUVIndexByCoords(e.latitude,e.longitude,"Current Location"),this.updateMarker(e.latitude,e.longitude),this.map&&this.map.setView([e.latitude,e.longitude],10)}catch(A){console.error("Error fetching current UV index data:",A),this.error="Error fetching UV index data: "+A.message}finally{this.loading=!1}}),(e=>{console.error("Geolocation error:",e),this.error="Unable to retrieve location.",this.loading=!1}))):this.error="Geolocation is not supported by your browser."},initMap(){this.map=R().map("mapid").setView([20,0],2),R().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'Map data © <a href="https://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:18}).addTo(this.map),this.map.on("click",(e=>{const{lat:A,lng:t}=e.latlng;console.log("Map clicked at:",A,t),this.fetchUVIndexByCoords(A,t,`Lat: ${A.toFixed(2)}, Lon: ${t.toFixed(2)}`),this.updateMarker(A,t),this.map.setView([A,t],10)}))},updateMarker(e,A){this.marker?this.marker.setLatLng([e,A]):this.map&&(this.marker=R().marker([e,A]).addTo(this.map))}},mounted(){this.initMap()}};const z=(0,p.A)(N,[["render",W],["__scopeId","data-v-7195c6f0"]]);var J=z;const M={class:"container my-4"},F={class:"card shadow-sm personalise-card"},E={class:"card-header"},G={class:"card-body"},Z={class:"mb-3"},I={class:"mb-3"},D={class:"mb-3"},H={class:"input-group"},B={key:0,class:"mt-4"},C={class:"card"},Y={class:"card-body"},Q=["innerHTML"];function $(e,A,t,r,o,i){return(0,n.uX)(),(0,n.CE)("div",M,[(0,n.Lk)("div",F,[(0,n.Lk)("div",E,[(0,n.Lk)("button",{class:"btn btn-link back-btn",onClick:A[0]||(A[0]=A=>e.$router.back())}," ← Back ")]),(0,n.Lk)("div",G,[A[14]||(A[14]=(0,n.Lk)("h2",{class:"card-title mb-4 text-center"}," Personal Sun Protection Recommendations ",-1)),(0,n.Lk)("form",{onSubmit:A[5]||(A[5]=(0,a.D$)(((...e)=>i.generateRecommendations&&i.generateRecommendations(...e)),["prevent"]))},[(0,n.Lk)("div",Z,[A[7]||(A[7]=(0,n.Lk)("label",{for:"ageRange",class:"form-label"},"Select Your Age Range",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":A[1]||(A[1]=e=>o.ageRange=e),id:"ageRange",class:"form-select"},A[6]||(A[6]=[(0,n.Fv)('<option disabled value="" data-v-5f696002>-- Choose an age range --</option><option value="under-18" data-v-5f696002>Under 18</option><option value="18-30" data-v-5f696002>18 - 30</option><option value="31-50" data-v-5f696002>31 - 50</option><option value="51-65" data-v-5f696002>51 - 65</option><option value="over-65" data-v-5f696002>Over 65</option>',6)]),512),[[a.u1,o.ageRange]])]),(0,n.Lk)("div",I,[A[9]||(A[9]=(0,n.Lk)("label",{for:"skinType",class:"form-label"},"Select Your Skin Type",-1)),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":A[2]||(A[2]=e=>o.skinType=e),id:"skinType",class:"form-select"},A[8]||(A[8]=[(0,n.Fv)('<option disabled value="" data-v-5f696002>-- Choose your skin type --</option><option value="1" data-v-5f696002>Type 1 (Very fair, pale white)</option><option value="2" data-v-5f696002>Type 2 (Fair, usually burns easily)</option><option value="3" data-v-5f696002>Type 3 (Fair/Medium, burns moderately)</option><option value="4" data-v-5f696002>Type 4 (Olive/Moderate brown)</option><option value="5" data-v-5f696002>Type 5 (Brown/Dark brown)</option><option value="6" data-v-5f696002> Type 6 (Deeply pigmented dark brown to black) </option>',7)]),512),[[a.u1,o.skinType]])]),(0,n.Lk)("div",D,[A[11]||(A[11]=(0,n.Lk)("label",{for:"timeOutside",class:"form-label"},"How long will you be outside?",-1)),(0,n.Lk)("div",H,[(0,n.bo)((0,n.Lk)("input",{type:"number",id:"timeOutside","onUpdate:modelValue":A[3]||(A[3]=e=>o.timeOutside=e),class:"form-control",placeholder:"Enter duration",min:"1"},null,512),[[a.Jo,o.timeOutside,void 0,{number:!0}]]),(0,n.bo)((0,n.Lk)("select",{"onUpdate:modelValue":A[4]||(A[4]=e=>o.timeUnit=e),class:"form-select"},A[10]||(A[10]=[(0,n.Lk)("option",{value:"minutes"},"Minutes",-1),(0,n.Lk)("option",{value:"hours"},"Hours",-1)]),512),[[a.u1,o.timeUnit]])])]),A[12]||(A[12]=(0,n.Lk)("button",{type:"submit",class:"btn btn-primary w-100 mt-3"}," Get Recommendations ",-1))],32),o.recommendations?((0,n.uX)(),(0,n.CE)("div",B,[(0,n.Lk)("div",C,[(0,n.Lk)("div",Y,[A[13]||(A[13]=(0,n.Lk)("h5",{class:"card-title"},"Your Sun Protection Recommendations",-1)),(0,n.Lk)("p",{class:"card-text",innerHTML:o.recommendations},null,8,Q)])])])):(0,n.Q3)("",!0)])])])}var _={name:"PersonaliseView",data(){return{ageRange:"",skinType:"",timeOutside:null,timeUnit:"minutes",recommendations:null}},methods:{generateRecommendations(){let e=this.timeOutside;if("hours"===this.timeUnit&&(e=60*this.timeOutside),!this.ageRange||!this.skinType||!this.timeOutside)return void(this.recommendations="<strong>Please fill out all fields before getting recommendations.</strong>");let A="";switch(this.skinType){case"1":A+="You have very fair skin (Type 1) and burn very easily. ";break;case"2":A+="You have fair skin (Type 2) and tend to burn easily. ";break;case"3":A+="You have fair/medium skin (Type 3) and burn moderately. ";break;case"4":A+="You have olive/moderate brown skin (Type 4) and burn minimally. ";break;case"5":A+="You have brown/dark brown skin (Type 5) with minimal sun sensitivity. ";break;case"6":A+="You have deeply pigmented dark brown to black skin (Type 6) with very low sun sensitivity. ";break;default:break}"under-18"===this.ageRange?A+="As a younger individual, extra caution with sun exposure is recommended. ":"over-65"===this.ageRange&&(A+="Older adults may have more sensitive skin, so take extra protective measures. "),A+=e<=30?"For short durations (under 30 minutes), consider wearing SPF 30+ sunscreen and a hat. ":e<=120?"For moderate durations (30-120 minutes), use SPF 30+ or higher, reapply every 2 hours, and wear sunglasses. ":"For extended durations (over 2 hours), use SPF 50+, reapply every 2 hours, wear protective clothing, sunglasses, and seek shade. ",A+="Avoid peak UV hours (usually 10 AM - 4 PM), stay hydrated, and monitor the UV index for real-time changes.",this.recommendations=A}}};const ee=(0,p.A)(_,[["render",$],["__scopeId","data-v-5f696002"]]);var Ae=ee;const te=[{path:"/",name:"uv-index",component:J},{path:"/personalise-view",name:"personalise-view",component:Ae}],ae=(0,m.aE)({history:(0,m.LA)("/Sun-aware/"),routes:te});var ne=ae;t(8736);(0,a.Ef)(f).use(ne).mount("#app")}},A={};function t(a){var n=A[a];if(void 0!==n)return n.exports;var r=A[a]={exports:{}};return e[a].call(r.exports,r,r.exports,t),r.exports}t.m=e,function(){var e=[];t.O=function(A,a,n,r){if(!a){var o=1/0;for(d=0;d<e.length;d++){a=e[d][0],n=e[d][1],r=e[d][2];for(var i=!0,s=0;s<a.length;s++)(!1&r||o>=r)&&Object.keys(t.O).every((function(e){return t.O[e](a[s])}))?a.splice(s--,1):(i=!1,r<o&&(o=r));if(i){e.splice(d--,1);var l=n();void 0!==l&&(A=l)}}return A}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[a,n,r]}}(),function(){t.n=function(e){var A=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(A,{a:A}),A}}(),function(){t.d=function(e,A){for(var a in A)t.o(A,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:A[a]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,A){return Object.prototype.hasOwnProperty.call(e,A)}}(),function(){t.p="/Sun-aware/"}(),function(){var e={524:0};t.O.j=function(A){return 0===e[A]};var A=function(A,a){var n,r,o=a[0],i=a[1],s=a[2],l=0;if(o.some((function(A){return 0!==e[A]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(s)var d=s(t)}for(A&&A(a);l<o.length;l++)r=o[l],t.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return t.O(d)},a=self["webpackChunksun_aware"]=self["webpackChunksun_aware"]||[];a.forEach(A.bind(null,0)),a.push=A.bind(null,a.push.bind(a))}();var a=t.O(void 0,[504],(function(){return t(4429)}));a=t.O(a)})();
//# sourceMappingURL=app.69b3dbb1.js.map